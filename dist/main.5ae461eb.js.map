{"version":3,"sources":["main.js"],"names":["tag","$lastLi","$","click","css","x","localStorage","getItem","newString","JSON","parse","hashMap","logo","url","render","remove","forEach","item","index","$li","toUpperCase","slice","toLowerCase","insertBefore","find","mouseover","style","display","mouseout","on","window","open","e","stopPropagation","splice","touchstart","console","log","timeOutEvent","setTimeout","touchmove","clearTimeout","preventDefault","touchend","lastLiEvent","prompt","indexOf","push","toLocaleUpperCase","onbeforeunload","string","stringify","setItem"],"mappings":"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","file":"main.5ae461eb.js","sourceRoot":"..\\src","sourcesContent":["let tag = 0;\r\nconst $lastLi = $(\".addTag\");\r\n$(\"body\").click(function () {\r\n  $(\".close\").css(\"display\", \"none\");\r\n  tag = 0;\r\n});\r\nconst x = localStorage.getItem(\"x\");\r\nconst newString = JSON.parse(x);\r\n\r\nconst hashMap = newString || [\r\n  { logo: \"G\", url: \"https://www.github.com\" },\r\n  { logo: \"Y\", url: \"https://www.yuque.com\" },\r\n  { logo: \"D\", url: \"https://developer.mozilla.org\" },\r\n  { logo: \"D\", url: \"https://www.baidu.com\" },\r\n];\r\n\r\nconst render = function () {\r\n  $(\"li:not(.addTag)\").remove(), //移除add前的所有标签\r\n    hashMap.forEach(function (item, index) {\r\n      let $li = $(`<li class=\"addChidren\">\r\n        <div class=\"close\">\r\n          <svg class=\"icon\" aria-hidden=\"true\">\r\n            <use xlink:href=\"#icon-cha\"></use>\r\n          </svg>\r\n        </div>\r\n        <div class=\"iconButton\">${item.url[12].toUpperCase()}\r\n        </div>\r\n        <div class=\"getUrl\">${item.url.slice(12).toLowerCase()}</div>\r\n        </li>`);\r\n\r\n      $li.insertBefore($lastLi);\r\n      if (tag === 0) {\r\n        $(\".tagList\").find(\".close\").css(\"display\", \"none\");\r\n      } else {\r\n        $(\".tagList\").find(\".close\").css(\"display\", \"block\");\r\n      }\r\n      // PC端鼠标相关事件\r\n      $li.mouseover(() => {\r\n        $(\".tagList\").find(\".close\")[index].style.display = \"block\";\r\n      });\r\n      $li.mouseout(() => {\r\n        $(\".tagList\").find(\".close\")[index].style.display = \"none\";\r\n      });\r\n      $li.on(\"click\", function () {\r\n        window.open(item.url);\r\n      });\r\n      $li.on(\"click\", \".close\", (e) => {\r\n        e.stopPropagation();\r\n        hashMap.splice(index, 1);\r\n        tag = 1;\r\n        render();\r\n      });\r\n\r\n      // 手机touch相关事件\r\n      $li.on({\r\n        touchstart: function () {\r\n          console.log(\"1\");\r\n          timeOutEvent = setTimeout(function () {\r\n            tag = 1; //此处为长按事件-----在此删除按钮\r\n            render();\r\n            console.log(\"2\");\r\n          }, 500);\r\n        },\r\n        touchmove: function () {\r\n          console.log(\"3\");\r\n          clearTimeout(timeOutEvent);\r\n          timeOutEvent = 0;\r\n          e.preventDefault();\r\n          console.log(4);\r\n        },\r\n        touchend: function (e) {\r\n          console.log(5);\r\n          clearTimeout(timeOutEvent);\r\n          if (timeOutEvent != 0 && tag === 0) {\r\n            window.open(item.url); //此处为点击事件----在此处添加跳转链接\r\n          }\r\n          console.log(6);\r\n          return false;\r\n        },\r\n      });\r\n      $li.on(\"touchend\", \".close\", () => {\r\n        clearTimeout(timeOutEvent);\r\n        if (timeOutEvent != 0) {\r\n          e.stopPropagation();\r\n          hashMap.splice(index, 1);\r\n          tag = 1;\r\n          render();\r\n        }\r\n        // return false;\r\n      });\r\n    });\r\n};\r\n\r\nrender(); //刷新页面就执行一次移除旧标签，重新插入的过程\r\nlet lastLiEvent = function () {\r\n  if (tag === 0) {\r\n    let url = prompt(\"请输入你想要的网址\");\r\n    if (url.indexOf(\"https\") !== 0) {\r\n      if (url.indexOf(\"www.\") !== 0) {\r\n        url = \"https://www.\" + url;\r\n      } else {\r\n        url = \"https://\" + url;\r\n      }\r\n    }\r\n    hashMap.push({\r\n      logo: `${url[12].toLocaleUpperCase()}`,\r\n      url: `${url}`,\r\n    }); //每次点击add后，将新数据存入hashMap，生成新的hashMap\r\n    render();\r\n  }\r\n};\r\n$lastLi.on(\"click\", () => {\r\n  lastLiEvent();\r\n});\r\n$lastLi.on(\"touchend\", () => {\r\n  lastLiEvent();\r\n});\r\n\r\n/*\r\n *关闭或刷新页面前，将hashMap的数据利用JSON转换为字符串的形式存入localStorage，避免离开页面数据丢失。\r\n */\r\nwindow.onbeforeunload = function () {\r\n  const string = JSON.stringify(hashMap);\r\n  localStorage.setItem(\"x\", string);\r\n};\r\n"]}